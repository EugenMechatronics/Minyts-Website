<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-P62BSXZM');</script>
  <!-- End Google Tag Manager -->

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-J2RR793XRD"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-J2RR793XRD');
  </script>

  <title>News | Minyts Holdings LLC</title>
  <meta name="description" content="Latest news and updates from Minyts Holdings and our portfolio companies." />
  <meta name="robots" content="index, follow" />

  <link rel="stylesheet" href="styles.css" />

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="assets/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="assets/favicon.svg" />
  <link rel="shortcut icon" href="assets/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png" />
  <meta name="apple-mobile-web-app-title" content="Minyts Holdings" />
  <link rel="manifest" href="assets/site.webmanifest" />

  <style>
    .news-archive{
      margin-top: 1.5rem;
      display: grid;
      gap: 1rem;
    }

    .news-entry{
      border: 1px solid var(--border);
      border-radius: var(--radius-card);
      background: #fff;
      padding: 1.25rem;
      display: block;
      transition: transform var(--t-fast) var(--ease), box-shadow var(--t-fast) var(--ease);
    }

    .news-entry:hover{
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.06);
    }

    .news-entry-date{
      font-size: 0.75rem;
      color: var(--text-muted);
      margin: 0 0 0.35rem;
      text-transform: uppercase;
      letter-spacing: 0.04em;
    }

    .news-entry-title{
      font-size: 1.125rem;
      font-weight: 650;
      margin: 0 0 0.5rem;
      line-height: 1.3;
    }

    .news-entry-excerpt{
      font-size: 0.9375rem;
      color: var(--text-muted);
      margin: 0;
      line-height: 1.5;
    }

    .news-empty{
      text-align: center;
      padding: 3rem 1rem;
      color: var(--text-muted);
    }

    .back-link{
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      font-size: 0.875rem;
      font-weight: 600;
      color: rgba(10, 108, 255, 0.95);
      margin-bottom: 1rem;
    }

    .back-link:hover{
      color: var(--mcc-blue);
    }

    .back-arrow{
      transition: transform var(--t-fast) var(--ease);
    }

    .back-link:hover .back-arrow{
      transform: translateX(-2px);
    }
  </style>

  <meta property="og:title" content="News | Minyts Holdings LLC" />
  <meta property="og:description" content="Latest news and updates from Minyts Holdings." />
  <meta property="og:type" content="website" />
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P62BSXZM"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <!-- TOP NAV -->
  <header class="topbar" role="banner">
    <div class="container topbar-inner">
      <a class="brand" href="index.html" aria-label="Minyts Holdings Home">
        <span class="logo-mark" aria-hidden="true">
          <img
            src="assets/minytsbetalogo.svg"
            alt="Minyts logo"
            class="logo-image"
            width="40"
            height="40"
          />
        </span>
        <span class="brand-text">Minyts Holdings LLC</span>
      </a>

      <div class="nav-wrap">
        <nav class="nav-group" aria-label="Primary navigation">
          <a class="nav-item" href="index.html#our-identity">
            <span class="nav-label">Regards</span>
            <span class="nav-hand hand-hour" aria-hidden="true"></span>
          </a>

          <a class="nav-item" href="index.html#how-we-operate">
            <span class="nav-label">The Manual</span>
            <span class="nav-hand hand-minute" aria-hidden="true"></span>
          </a>

          <a class="nav-item" href="index.html#companies-holdings">
            <span class="nav-label">Accompaniments</span>
            <span class="nav-hand hand-second" aria-hidden="true"></span>
          </a>

          <a class="nav-item" href="index.html#contact-info">
            <span class="nav-label">Communicate</span>
            <span class="nav-hand hand-continuation" aria-hidden="true"></span>
          </a>
        </nav>

        <div class="nav-signature" aria-label="Brand signature">in Minyts.</div>

        <button class="nav-toggle" type="button" aria-label="Open menu" aria-expanded="false" aria-controls="mobile-menu">
          Menu
        </button>
      </div>
    </div>

    <!-- MOBILE MENU -->
    <div class="mobile-menu" id="mobile-menu" hidden>
      <div class="container mobile-menu-inner" role="navigation" aria-label="Mobile navigation">
        <a class="nav-item" href="index.html#our-identity">
          <span class="nav-label">Regards</span>
          <span class="nav-hand hand-hour" aria-hidden="true"></span>
        </a>
        <a class="nav-item" href="index.html#how-we-operate">
          <span class="nav-label">The Manual</span>
          <span class="nav-hand hand-minute" aria-hidden="true"></span>
        </a>
        <a class="nav-item" href="index.html#companies-holdings">
          <span class="nav-label">Accompaniments</span>
          <span class="nav-hand hand-second" aria-hidden="true"></span>
        </a>
        <a class="nav-item" href="index.html#contact-info">
          <span class="nav-label">Communicate</span>
          <span class="nav-hand hand-continuation" aria-hidden="true"></span>
        </a>
        <div class="mobile-signature">in Minyts.</div>
      </div>
    </div>
  </header>

  <div class="topbar-spacer" aria-hidden="true"></div>

  <main>
    <section class="section">
      <div class="container">
        <a class="back-link" href="index.html">
          <span class="back-arrow" aria-hidden="true">&larr;</span>
          Back to Home
        </a>

        <div class="section-head">
          <h1 style="font-size: var(--fs-h1-mobile); letter-spacing: var(--ls-h1); margin: 0;">News</h1>
          <p class="lead">Latest updates from Minyts Holdings and our portfolio companies.</p>
        </div>

        <div class="news-archive" id="newsArchive">
          <p class="news-empty">Loading updates...</p>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer" role="contentinfo">
    <div class="container footer-inner">
      <p>&copy; <span id="year"></span> Minyts Holdings LLC. All rights reserved.</p>
    </div>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // Mobile menu toggle
    const toggle = document.querySelector('.nav-toggle');
    const mobileMenu = document.getElementById('mobile-menu');

    toggle?.addEventListener('click', () => {
      const isOpen = toggle.getAttribute('aria-expanded') === 'true';
      toggle.setAttribute('aria-expanded', String(!isOpen));
      mobileMenu.hidden = isOpen;
    });

    mobileMenu?.addEventListener('click', (e) => {
      const target = e.target.closest('a');
      if (target) {
        mobileMenu.hidden = true;
        toggle.setAttribute('aria-expanded', 'false');
      }
    });

    const NEWS_SCROLL_KEY = 'minyts-news-scroll';
    let scrollStorage = null;
    let scrollSaveRaf = null;

    try {
      scrollStorage = window.sessionStorage;
    } catch (error) {
      scrollStorage = null;
    }

    function storeNewsScroll() {
      if (!scrollStorage) return;
      scrollStorage.setItem(NEWS_SCROLL_KEY, String(window.scrollY || 0));
    }

    function restoreNewsScroll() {
      if (!scrollStorage) return;
      const stored = scrollStorage.getItem(NEWS_SCROLL_KEY);
      if (!stored) return;
      const value = Number(stored);
      if (Number.isNaN(value)) return;
      window.scrollTo({ top: value });
    }

    restoreNewsScroll();

    window.addEventListener('pageshow', () => {
      restoreNewsScroll();
    });

    window.addEventListener('scroll', () => {
      if (!scrollStorage) return;
      if (scrollSaveRaf) cancelAnimationFrame(scrollSaveRaf);
      scrollSaveRaf = requestAnimationFrame(() => {
        scrollStorage.setItem(NEWS_SCROLL_KEY, String(window.scrollY || 0));
        scrollSaveRaf = null;
      });
    }, { passive: true });

    // âœ… Topbar auto hide/show (SMOOTH + NO PAGE MOVEMENT)
    (function () {
      const bar = document.querySelector('.topbar');
      const spacer = document.querySelector('.topbar-spacer');
      if (!bar || !spacer) return;

      const root = document.documentElement;
      const inner = bar.querySelector('.topbar-inner');

      const TOP_LOCK_PX = 2;
      const HIDE_DELAY_MS = 1400;
      let hideTimer = null;

      let isInteracting = false;
      let ticking = false;

      function syncTopbarHeight() {
        const h = (inner ? inner.offsetHeight : bar.offsetHeight) || 68;
        root.style.setProperty('--topbar-h', h + 'px');
        spacer.style.height = `var(--topbar-h)`;
      }

      function showBar() {
        if (!bar.classList.contains('topbar--hidden')) return;
        bar.classList.remove('topbar--hidden');
      }

      function hideBar() {
        if (window.scrollY <= TOP_LOCK_PX) return;
        if (isInteracting) return;
        bar.classList.add('topbar--hidden');
      }

      function clearHideTimer() {
        if (hideTimer) clearTimeout(hideTimer);
        hideTimer = null;
      }

      function scheduleHide() {
        clearHideTimer();
        const snapshotY = window.scrollY;

        hideTimer = setTimeout(() => {
          if (Math.abs(window.scrollY - snapshotY) > 1) {
            scheduleHide();
            return;
          }
          hideBar();
        }, HIDE_DELAY_MS);
      }

      function handleScroll() {
        if (window.scrollY <= TOP_LOCK_PX) {
          bar.classList.remove('topbar--hidden');
          clearHideTimer();
          return;
        }

        bar.classList.remove('topbar--hidden');
        scheduleHide();
      }

      function onScroll() {
        if (ticking) return;
        ticking = true;
        window.requestAnimationFrame(() => {
          handleScroll();
          ticking = false;
        });
      }

      function setInteracting(v) {
        isInteracting = v;
        if (v) {
          bar.classList.remove('topbar--hidden');
          clearHideTimer();
        } else {
          if (window.scrollY > TOP_LOCK_PX) scheduleHide();
        }
      }

      bar.addEventListener('pointerenter', () => setInteracting(true));
      bar.addEventListener('pointerleave', () => setInteracting(false));
      bar.addEventListener('pointerdown', () => setInteracting(true));
      bar.addEventListener('pointerup', () => setInteracting(false));

      bar.addEventListener('focusin', () => setInteracting(true));
      bar.addEventListener('focusout', () => {
        setTimeout(() => {
          const stillFocused = bar.contains(document.activeElement);
          setInteracting(stillFocused);
        }, 80);
      });

      window.addEventListener('scroll', onScroll, { passive: true });
      window.addEventListener('resize', syncTopbarHeight);

      let touchStartY = 0;
      window.addEventListener('touchstart', (e) => {
        touchStartY = e.touches[0].clientY;
        if (window.scrollY > TOP_LOCK_PX) {
          bar.classList.remove('topbar--hidden');
          clearHideTimer();
        }
      }, { passive: true });

      window.addEventListener('touchmove', () => {
        if (window.scrollY > TOP_LOCK_PX) {
          bar.classList.remove('topbar--hidden');
          clearHideTimer();
        }
      }, { passive: true });

      window.addEventListener('touchend', () => {
        if (window.scrollY > TOP_LOCK_PX) {
          scheduleHide();
        }
      }, { passive: true });

      syncTopbarHeight();
      handleScroll();
    })();

    // NEWS ARCHIVE
    (function() {
      const archive = document.getElementById('newsArchive');
      if (!archive) return;

      const DATA_URL = 'journal/index.json';

      function formatDate(dateStr) {
        const date = new Date(dateStr + 'T00:00:00');
        return date.toLocaleDateString('en-US', {
          month: 'long',
          day: 'numeric',
          year: 'numeric'
        });
      }

      function attachEntryListeners() {
        archive.querySelectorAll('.news-entry').forEach(entry => {
          entry.addEventListener('click', () => {
            storeNewsScroll();
          });
        });
      }

      function renderArchive(entries) {
        if (!entries || entries.length === 0) {
          archive.innerHTML = '<p class="news-empty">No updates available yet.</p>';
          return;
        }

        const published = entries
          .filter(e => e.status === 'published')
          .sort((a, b) => new Date(b.date) - new Date(a.date));

        if (published.length === 0) {
          archive.innerHTML = '<p class="news-empty">No updates available yet.</p>';
          return;
        }

        archive.innerHTML = published.map(entry => `
          <a class="news-entry" href="journal/${entry.id}.html">
            <p class="news-entry-date">${formatDate(entry.date)}</p>
            <h2 class="news-entry-title">${entry.title}</h2>
            <p class="news-entry-excerpt">${entry.excerpt || ''}</p>
          </a>
        `).join('');

        attachEntryListeners();
      }

      fetch(DATA_URL)
        .then(res => {
          if (!res.ok) throw new Error('Failed to load');
          return res.json();
        })
        .then(data => renderArchive(data.entries))
        .catch(() => {
          archive.innerHTML = '<p class="news-empty">Unable to load updates.</p>';
        });
    })();
  </script>
</body>
</html>
